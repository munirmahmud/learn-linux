# Class 20: Package / Software

`rpm for RedHat Package Manager`

Windows : .exe, .bin, .msi
Apple (MacOS) : .pkg, .dmg
Android : .apk
RHEL/Fedora/CentOS/Oracle : .rpm
Ubuntu,Mint,Debian,Kali : .deb
Script/Common Distribution : .tar.gz, .tar.bz2, .tar

`.rpm for Fedora based distributions` যেমনঃ redhat, alma linux, rocky linux, centOS etc.

`.deb for Fedora based distributions` যেমনঃ Ubuntu, Kali linux, Linux Mint, xubuntu etc.

`rpm -q lvm2` রেডহ্যাট প্যাকেজ ম্যানেজারের কাছে কুয়েরি করলাম যে `lvm2` নামে কোন প্যাকেজ এই সিস্টেমে ইন্সটল করা আছে কিনা।

`-q for query`

`rpm -qa` or `rpm -q --all` আমার সিস্টেমে যতগুলো সফটওয়্যার ইন্সটল করা আছে তার লিস্ট দেখাবে।

`rpm -qa cronie` ইন্সটল্ড সকল সফটওয়্যার থেকে `cronie` নামে কোন সফটওয়্যার ইন্সটল আছে কিনা তা দেখার জন্য।

`cronie-1.5.7-8.el9.x86_64.rpm`

1. `cronie` - RPM name - এটা ইউনিক হবে। অন্য কোনো RPM এর নামের সাথে মিলবে না।
2. `1.5.7` - RPM version - এটা কিছুদিন পর পর নতুন রিলিজ আসবে, তখন নতুন ভার্শন দেখা যাবে।
3. `8` Number of release
4. `el9` - Linux platform - 28.el9 = Enterprise Linux 9, el8 = Enterprise Linux 8
5. `x86_64` - Processor Architecture - 32bit = i686, 64 bits = x86_64, যে কোনো আর্কিটেকচার = noarch
6. `.rpm` (extention) - RPM এক্সটেনশন। .rpm শুধুমাত্রে RedHat, CentOS, Oracle, Fedora, Rocky etc. লিনাক্সে কাজ করবে।

### Software Architecture -------

`lsblk` হার্ডডিস্ক পার্টিশন দেখার জন্য। এই কমান্ডে আমরা নিচের মত একটি লাইন দেখতে পাবো। যেটির মানে হলো DVD/ISO আমাদের সিস্টেমে `sr0` নামক পার্টিশনে থাকবে।

`sr0     11:0    1 1024M  0 rom`

আমাদের সিস্টেমে ২ টা রিমুভাবল ডিরেক্টরি/ডিভাইস আছে। একটা রান এবং আরকেটা মিডিয়া।

VMware যেই ট্যাবে রান আছে সেই ট্যাবে রাইট বাটনে ক্লিক করে পপআপ থেকে সেটিংস মেনুতে ক্লিক করতে হবে। এর পরে CD/DVD নামে একটা মেনু পাওয়া যাবে। ঐ মেনুতে ক্লিক করলে তার ডান পাশে `Device Status` নামে একটা বক্সে আছে সেখান থেকে `Connect at power on` চেকবক্স টা সিলেক্ট করা থাকলে আমারা `ISO` ফাইল দেখতে পাবো `sr0` নামে পার্টিশনে। এর পরেও যদি না পাই তাহলে ঐ একই পপআপে `Connection` নামে বক্সে `Use ISO image file` নামে একটা রেডিও বাটন আছে ওটা সিলেক্ট থাকতে হবে এবং পাশাপাশি নিচের বক্সে `ISO` ফাইল পাথ ঠিক আছে কিনা চেক করে নিতে হবে।

এর পরেও `ISO` ফাইলটি না পাওয়া গেলে `sr0` পার্টিশনটি `mount` করে নিতে হবে।

`mount /dev/sr0 /media/`

নিচের মত আউটপুট আসলে আমাদের মাউন্ট করা ঠিক আছে।

`mount: /media: WARNING: source write-protected, mounted read-only.`

এক্ষেত্রে আমি `sr0` পার্টিশনটি `/media` নামক ডিরেক্টরিতে মাউন্ট করে নিয়েছি। চাইলে যেকোনো কাস্টম ডিরেক্টরিতেও মাউন্ট করা যায়। এখন আমরা `cd /media` দিয়ে `ISO` এর সকল ফাইলস এবং ডিরেক্টরির এ্যাক্সেস পাবো।

এখানে `AppStream & BaseOS` (RPM Container) নামে ২টি আলাদা আলদা ডিরেক্টরি থাকে। যার মধ্যে সকল RPM Package পাওয়া যাবে।

RHEL 7 এ `AppStream & BaseOS` নামে কোন ডিরেক্টরি নাই। সেখানে `Package` নামে একটা ডিরেক্টরিতে সব প্যাকেজগুলো থাকে।

`AppStream` ডিরেক্টরিতে এ্যাপ্লিকেশন রিলেটেড সফটওয়্যার গুলো থাকে।

`BaseOS` ডিরেক্টরিতে অপারেটিং সিস্টেম বা হার্ডওয়্যার রিলেটেড সফটওয়্যার গুলো থাকে।

`rpm -qi cronie` কোন প্যাকেজের ইনফরমেশন বা সেই প্যাকেজের বিস্তারিত জানা যায়।

`rpm -ql cronie` ইন্সটল হওয়ার পরে কোথায় কোথায় তার ফাইলগুলো আছে তার লিস্ট দেখা যায়। অর্থাৎ একটা সফটওয়্যার ইন্সটল যখন হয়, তখন বিভিন্ন ডিরেক্টরিতে তার কনফিগারেশন ফাইলগুলো চলে যায়। যেমনঃ কনফিগারেশন ফাইলগুলো চলে যায় `/etc/` ডিরেক্টরিতে আর ম্যানুয়াল এর জন্য ফাইল চলে যায় `/usr/` ডিরেক্টরিতে ইত্যাদি।

`rpm -qc cronie` শুধুমাত্র কনফিগারেশন ফাইল কোথায় কোথায় আছে তা দেখা যাবে।

`rpm -qd cronie` শুধুমাত্র ডকুমেন্টেশন ফাইল কোথায় কোথায় আছে তা দেখা যাবে।

`rpm -ql cronie | grep "/usr/lib/"` এই কমান্ড দিয়ে `/usr/lib/` তে যেই সকল ফাইলগুলো ইন্সটল হইছে তার লিস্ট দেখা যাবে।

`rpm -qR cronie` কোন সফটওয়্যার ইন্সটল করার জন্য কি কি ডিপেন্ডেন্সি আছে তা দেখার জন্য।

`rpm -qR zsh-5.8-9.el9.x86_64.rpm` এই কমান্ডের মাধ্যমে কোন সফটওয়্যার ইন্সটল করার আগেই তার ডিপেন্ডেন্সি সফটওয়্যারের লিস্ট দেখা যাবে। এর জন্য ঐ প্যাকেজটি যেই লোকেশনে আছে তার পাথটি বলে দিতে হবে অথবা ঐ পাথে গিয়ে কমান্ডটি রান করতে হবে।

`rpm -qd zsh-5.8-9.el9.x86_64.rpm` তেমনিভাবে ডকুমেন্টেশন ফাইল কোথায় থাকবে তা দেখা যাবে।

`rpm -ivh zsh-5.8-9.el9.x86_64.rpm` এই কমান্ডের মাধ্যমে `rpm` ইন্সটল করা যায়।

`rpm -qa zsh` ইন্সটল হয়েছে কিনা বা ইন্সটল আছে কিনা তা চেক করার জন্য।

`rpm -evh zsh` এই কমান্ডের মাধ্যমে `rpm` আনইন্সটল করা যায়। এখানে `rpm` এর পুর্ন নাম ভার্সন সহ উল্লেখ করার দরকার নাই।

`rpm -Uvh zsh-5.8-9.el9.x86_64` সফটওয়্যার আপডেট বা ডাউনগ্রেড করার জন্য।

নোটঃ কমান্ড লিখে `rpm` এর নামের প্রথম ২ থেকে ৩ টা অক্ষর লিখে ট্যাব প্রেস করলে অটকমপ্লিট হয়ে যাবে। পুরোপুরিভাবে `rpm` এর নাম লেখার দরকার নাই।

`q for query`

`i for information`

`l for list`

`c for configration files`

`d for Documentation files`

`R for Required Dependency`

`i for install`

`v for verbosely (Installation Process)`

`h for hash (#####)` হ্যাস ফরম্যাটে প্রগ্রেস বার এবং কত পারসেন্ট ইন্সটল হয়েছে তা দেখা যাবে।

`e for erase (RPM uninstall)` (রিমুভ) করার জন্য ব্যবহার হয়।

`U for Upgrade`

কিছু কিছু সফটওয়্যার আছে যেগুলা একটি আরেকটির উপরে নির্ভরশীল । অর্থাৎ উক্ত সফটওয়্যারের সকল ডিপেন্ডেসি (Depedencis) ছাড়া ইন্সটল করা সম্ভব না। যেমনঃ `httpd` এই সফটওয়্যারটি ইন্সটল করার সময় `error` দিবে, যে এটার প্রয়োজনীয় ডিপেন্ডেসি (Dependencies) ইন্সটল নাই।

এক্ষেত্রে আমরা ম্যানুয়াল ইন্সটলেশনের বদলে অটোম্যাটিক ইন্সটল পদ্ধতি (YUM/DNF) ব্যবহার করবো। এক্ষেত্রে সিস্টেম অবশ্যই `local / private / public` রিপোজেটরির সাথে যুক্ত থাকতে হবে।

`yum install httpd` রিপজিটরি থেকে কোন সফটওয়্যার ইন্সটল করার কমান্ড। `-y` অপশন ইউজ করলে ডিপেন্ডেন্সির জন্য বার বার `y` প্রেস করতে হবে না।

`yum install -y httpd`

OR

`dnf install httpd`

`dnf install -y httpd`

`yum for Yellowdog Update Modifier`

`dnf for Dandified YUM`

`dnf` কমান্ড বিহান্ড দ্যা সিন `yum` ইউজ করে এবং এটা লেটেস্ট আর অনেক নতুন ফিচার অ্যাড করা হয়েছে। `dnf` কমান্ড `yum` এর চেয়ে অনেক ফাস্ট।
